!function(a,b,c){"use strict";function d(a,c){var e=b.Deferred(),f=c||0,g=a[f],h=[].slice.call(arguments,2);return g?g.apply(g,h).then(function(){var b=[].slice.call(arguments);d.apply(this,[a,++f].concat(b))}):e.resolve(),e.promise()}function e(a){var b=a.split("/");return b[b.length-1]}function f(a){var b=e(a);return a.substring(0,a.length-b.length)}function g(){for(var a="",b=!1,c=arguments.length-1;c>=-1&&!b;c--){var d=c>=0?arguments[c]:"/";"string"==typeof d&&d&&(a=d+"/"+a,b="/"===d.charAt(0))}return a=a.replace(/\/\//g,"/"),"/"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a}function h(a){return function(){var c=b.Deferred();return c.then(a),c.resolve(),c.promise()}}function i(a,b){return"undefined"!=typeof b&&(a.loadedDone&&a.pop(),a.push(h(b)),a.loadedDone=!0),a}function j(a){return function(b){T=[],a(),i(T,b),0==U&&d(T)}}function k(){return b(S.prop("contentDocument"))}function l(){return b(S.prop("contentWindow"))}function m(a){return function(){var c=b.Deferred();return S.load(function(){c.resolve()}),S.attr("src",a),c.promise()}}function n(){return function(){var a=b.Deferred();return S.one("load",function(){a.resolve()}),l().prop("location").reload(),a.promise()}}function o(a,c){return function(){var d=b.Deferred();return d.done(c),d.resolve(l().prop("location")[a]),d.promise()}}function p(a,b){U++,setTimeout(function(){var b=T.pop();a(),T.push(b),0==--U&&d(T)},b)}function q(a){return function(){var c=b.Deferred();return setTimeout(function(){c.resolve()},a),c.promise()}}function r(a){return function(){var c=b.Deferred();return c.resolve(k().find(a)),c.promise()}}function s(a){return this===c?new s(a):(T.push(r(a)),void 0)}function t(a,c,d){return function(e){var f=b.Deferred(),g=typeof d;return"undefined"!==g&&"function"!==g?(a(e),f.resolve(e)):(f.then(d),f.resolve(c(e))),f.promise()}}function u(a,b,c){return t(function(d){d[a](b,c)},function(c){return c[a](b)},c)}function v(a,b){return u("attr",a,b)}function w(a,b){return u("prop",a,b)}function x(a,b){return t(function(c){c[a](b)},function(b){return b[a]()},b)}function y(a){return t(function(d){a.length!==c?a:[a];d.find("option").each(function(){-1!=a.indexOf(b(this).val())&&b(this).prop("selected",!0)})},function(a){var c=[];return a.find("option:selected").each(function(){c.push(b(this).val())}),c.length>1?c:c[0]},a)}function z(a){return function(c){var d=b.Deferred();return d.then(a),d.resolve(c),d.promise()}}function A(a){return"undefined"==typeof a?w("checked",!0):function(c){var d=b.Deferred();return c.each(function(c,d){b(d).val()==a&&b(d).prop("checked",!0)}),d.resolve(),d.promise()}}function B(a){return function(c){if("A"===c.prop("tagName")&&"click"===a){var d=l().prop("location").pathname,e=g(f(d),c.attr("href"));return m(e)()}var h=b.Deferred();return c.trigger(a),h.resolve(),h.promise()}}function C(a){return function(){var c=b.Deferred();return a&&a.apply(this,[c].concat([].slice.call(arguments))),c.promise()}}function D(a){return this===c?new D(a):(T.push(C(function(a,b){a.resolve(b,!0)})),void 0)}function E(){return C(function(a,b,c){a.resolve(b,!c)})}function F(a,b,c){return C(function(d,e,f){d.resolve(a,e,b,f,f===c(e,b))})}function G(a){if(N(a))return"'"+a+"'";if(b.isArray(a)){var c="";return b(a).each(function(a,b){c+=G(b)+", "}),c=c.substring(0,c.length-2),"["+c+"]"}return a}function H(a){return a?"":" not"}function I(a){this.message=a}function J(a,b,c,d){var e="AssertError: ";switch(a){case"toEqual":e+="expect "+G(b)+H(d)+" to equal "+G(c);break;case"toBe":e+="expect "+G(b)+H(d)+" to be "+G(c);break;case"toBeDefined":e+="expect "+G(b)+H(d)+" to be defined.";break;case"toContain":e+="expect "+G(b)+H(d)+" to contain "+G(c);break;case"toMatch":e+="expect "+G(b)+H(d)+" to match "+G(c);break;case"toBeLessThan":e+="expect "+G(b)+H(d)+" to be less than "+G(c);break;case"toBeGreaterThan":e+="expect "+G(b)+H(d)+" to be greater than "+G(c)}return e}function K(){return C(function(a,b,c,d,e,f){if(f===!1)throw new I(J(b,c,d,e));a.resolve()})}function L(a,c){if(a===c)return!0;if(b.isArray(a)&&b.isArray(c)){if(a.length!=c.length)return!1;for(var d=0;d<a.length;d++)if(!L(a[d],c[d]))return!1;return!0}return O(a)&&O(c)?a.getTime()===c.getTime():P(a)&&P(c)?a.source===c.source&&a.global===c.global&&a.multiline===c.multiline&&a.lastIndex===c.lastIndex&&a.ignoreCase===c.ignoreCase:Q(a)||Q(c)?!1:a==c}function M(a,b,c){T.push(F(a,b,c)),T.push(K())}function N(a){return"[object String]"==={}.toString.call(a)}function O(a){return"[object Date]"==={}.toString.call(a)}function P(a){return"[object RegExp]"==={}.toString.call(a)}function Q(a){return"[object Object]"==={}.toString.call(a)}function R(a,c){return N(a)?str.indexOf(c)>=0:b.isArray(a)?b.inArray(c,a)>=0:!1}document.write('<iframe id="context" width="100%" height="500px" src="about:blank"></iframe>');var S=b("#context"),T=[],U=0,V=null,W={navigateTo:function(a){T.push(m(a))},reload:function(){T.push(n())},delay:function(a,b){p(a,b)},sleep:function(a){T.push(q(a))},pause:function(){T.push(function(){return V=b.Deferred(),V.promise()})},resume:function(){V.resolve(),V=null},window:{path:function(a){T.push(o("pathname",a))},href:function(a){T.push(o("href",a))},hash:function(a){T.push(o("hash",a))},search:function(a){T.push(o("search",a))}}},X={constructor:s,enter:function(a){T.push(v("value",a))},check:function(){T.push(w("checked",!0))},uncheck:function(){T.push(w("checked",!1))},select:function(a){T.push(A(a))},click:function(){T.push(B("click"))},isChecked:function(a){T.push(w("checked",a))},isSelected:function(a){T.push(w("checked",a))},isDisabled:function(a){T.push(w("disabled",a))},option:function(a){T.push(y(a))},options:function(){var a=[].slice.call(arguments);T.push(y(a.length>1?a:a[0]))},query:function(a){T.push(z(a))}};b(["attr","prop","css"]).each(function(a,b){X[b]=function(a,c){T.push(u(b,a,c))}}),b(["val","text","count#size","html","height","innerHeight","outerHeight","width","innerWidth","outerWidth","position","scrollLeft","scrollTop","offset"]).each(function(a,b){var c=b.split("#");X[c[0]]=function(a){T.push(x(c[1]||c[0],a))}}),s.prototype=X;var Y={constructor:D,toEqual:function(a){M("toEqual",a,L)},toBe:function(a){M("toBe",a,function(a,b){return a===b})},toBeTruthy:function(){this.toBe(!0)},toBeFalsy:function(){this.toBe(!1)},toBeNull:function(){this.toBe(null)},toBeDefined:function(){M("toBeDefined",c,function(a){return"undefined"!=typeof a})},toContain:function(a){M("toContain",a,function(a,b){return R(a,b)})},toMatch:function(a){M("toMatch",a,function(a,b){return new RegExp(b).test(a)})},toBeLessThan:function(a){M("toBeLessThan",a,function(a,b){return b>a})},toBeGreaterThan:function(a){M("toBeGreaterThan",a,function(a,b){return a>b})},not:function(){return T.push(E()),this}};D.prototype=Y,a.browser=W,a.dsl=j,a.dropdownlist=a.input=a.element=s,a.expect=D}(this,jQuery);